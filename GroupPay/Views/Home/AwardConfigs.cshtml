@{
    ViewData["Title"] = "奖励设置";
}

<partial name="_ConsoleHeader" />

<div id="target"></div>
<script id="template" type="text/ractive">
    <div class="text-primary pb-2">{{message}}</div>
    <div class="responsiveTable">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>条件</th>
                    <th>奖励</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                {{#each awards}}
                <tr>
                    <td>{{awardCondition}}</td>
                    <td>{{bouns}}</td>
                    <td><button type="button" class="btn btn-secondary" on-click="edit">修改</button></td>
                </tr>
                {{/each}}
            </tbody>
        </table>
        <div class="container text-left m-0">
            <button type="button" class="btn btn-secondary" on-click="add">添加</button>
        </div>
    </div>

    <div class="search-row">
        <label>用户账号：</label><input type="text" name="accountName" id="accountName" value="{{accountName}}" />
        <label>创建时间：</label>
        <input type="text" name="startDate" id="startDate" value="{{startDate}}" />
        <input type="text" name="startTime" id="startTime" value="{{startTime}}" />
        <label>至　</label>
        <input type="text" name="endDate" id="endDate" value="{{endDate}}" />
        <input type="text" name="endTime" id="endTime" value="{{endTime}}" />
        <input type="submit" name="searchBtn" id="searchBtn" value="查找" on-click="doSearch" />
    </div>
    <div style="color:blue;padding:0 0 10px 0;">{{reportMessage}}</div>
    <table class="listTable">
        <thead>
            <th>账号名称</th>
            <th>奖励日期</th>
            <th>奖励金额</th>
        </thead>
        <tbody>
            {{#each records}}
            <tr>
                <td>{{accountName}}</td>
                <td>{{week}}</td>
                <td>{{commission}}</td>
            </tr>
            {{/each}}
            <tr class="total">
                <td></td>
                <td>合计</td>
                <td>{{total}}</td>
            </tr>
        <tbody>
    </table>
    <div class="pager">
        {{#each pages as p}}
        {{#if p == currentPage || p == -1}}
        <span>{{#if p == -1}}...{{else}}{{p}}{{/if}}</span>
        {{else}}
        <a href="javascript:void(0);" on-click="doPage">{{p}}</a>
        {{/if}}
        {{/each}}
    </div>

    <div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog" aria-labelledby="confirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmationModalLabel">{{confirmTitle}}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h6>{{confirmMsg}}</h6>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" on-click="actionConfirmed">确定</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addConditionModal" tabindex="-1" role="dialog" aria-labelledby="addConditionModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addRatioModalLabel">添加奖励设置</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="awardCondition">条件:</label>
                            <input type="text" id="awardCondition" style="width:100%" value="{{awardCondition}}" class="form-control" placeholder="条件" />
                        </div>
                        <div class="form-group">
                            <label for="bouns">奖励:</label>
                            <input type="text" id="bouns" style="width:100%" value="{{bouns}}" class="form-control" placeholder="奖励" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" on-click="doAdd">确定</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editConditionModal" tabindex="-1" role="dialog" aria-labelledby="editConditionModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">修改奖励设置</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="awardCondition">条件:</label>
                            <input type="text" id="awardConditionEdit" style="width:100%" value="{{awardCondition}}" class="form-control" placeholder="条件" />
                        </div>
                        <div class="form-group">
                            <label for="bouns">奖励:</label>
                            <input type="text" id="bounsEdit" style="width:100%" value="{{bouns}}" class="form-control" placeholder="奖励" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" on-click="doEdit">确定</button>
                </div>
            </div>
        </div>
    </div>
</script>
@section Scripts{
    <script type="text/javascript">$(document).ready(initAwardConfigPage);</script>
}